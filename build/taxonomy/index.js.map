{"version":3,"file":"taxonomy/index.js","mappings":"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","sources":["webpack://query-filter/./src/taxonomy/edit.js","webpack://query-filter/./src/taxonomy/style-index.css?27a5","webpack://query-filter/external window [\"wp\",\"blockEditor\"]","webpack://query-filter/external window [\"wp\",\"blocks\"]","webpack://query-filter/external window [\"wp\",\"components\"]","webpack://query-filter/external window [\"wp\",\"data\"]","webpack://query-filter/external window [\"wp\",\"i18n\"]","webpack://query-filter/external window \"ReactJSXRuntime\"","webpack://query-filter/webpack/bootstrap","webpack://query-filter/webpack/runtime/compat get default export","webpack://query-filter/webpack/runtime/define property getters","webpack://query-filter/webpack/runtime/hasOwnProperty shorthand","webpack://query-filter/webpack/runtime/make namespace object","webpack://query-filter/./src/taxonomy/index.js"],"sourcesContent":["import { __ } from '@wordpress/i18n';\nimport { useBlockProps, InspectorControls } from '@wordpress/block-editor';\nimport {\n\tPanelBody,\n\tSelectControl,\n\tTextControl,\n\tToggleControl,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\nexport default function Edit( { attributes, setAttributes } ) {\n\tconst { taxonomy, emptyLabel, label, showLabel, displayAsButtons } = attributes;\n\n\tconst taxonomies = useSelect(\n\t\t( select ) => {\n\t\t\tconst results = (\n\t\t\t\tselect( 'core' ).getTaxonomies( { per_page: 100 } ) || []\n\t\t\t).filter( ( taxonomy ) => taxonomy.visibility.publicly_queryable );\n\n\t\t\tif ( results && results.length > 0 && ! taxonomy ) {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\ttaxonomy: results[ 0 ].slug,\n\t\t\t\t\tlabel: results[ 0 ].name,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn results;\n\t\t},\n\t\t[ taxonomy ]\n\t);\n\n\tconst terms = useSelect(\n\t\t( select ) => {\n\t\t\treturn (\n\t\t\t\tselect( 'core' ).getEntityRecords( 'taxonomy', taxonomy, {\n\t\t\t\t\tnumber: 50,\n\t\t\t\t} ) || []\n\t\t\t);\n\t\t},\n\t\t[ taxonomy ]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Taxonomy Settings', 'query-filter' ) }>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'Select Taxonomy', 'query-filter' ) }\n\t\t\t\t\t\tvalue={ taxonomy }\n\t\t\t\t\t\toptions={ ( taxonomies || [] ).map( ( taxonomy ) => ( {\n\t\t\t\t\t\t\tlabel: taxonomy.name,\n\t\t\t\t\t\t\tvalue: taxonomy.slug,\n\t\t\t\t\t\t} ) ) }\n\t\t\t\t\t\tonChange={ ( taxonomy ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\ttaxonomy,\n\t\t\t\t\t\t\t\tlabel: taxonomies.find(\n\t\t\t\t\t\t\t\t\t( tax ) => tax.slug === taxonomy\n\t\t\t\t\t\t\t\t).name,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={ __( 'Label', 'query-filter' ) }\n\t\t\t\t\t\tvalue={ label }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'If empty then no label will be shown',\n\t\t\t\t\t\t\t'query-filter'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonChange={ ( label ) => setAttributes( { label } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show Label', 'query-filter' ) }\n\t\t\t\t\t\tchecked={ showLabel }\n\t\t\t\t\t\tonChange={ ( showLabel ) =>\n\t\t\t\t\t\t\tsetAttributes( { showLabel } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={ __( 'Empty Choice Label', 'query-filter' ) }\n\t\t\t\t\t\tvalue={ emptyLabel }\n\t\t\t\t\t\tplaceholder={ __( 'All', 'query-filter' ) }\n\t\t\t\t\t\tonChange={ ( emptyLabel ) =>\n\t\t\t\t\t\t\tsetAttributes( { emptyLabel } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display as Buttons', 'query-filter' ) }\n\t\t\t\t\t\tchecked={ displayAsButtons }\n\t\t\t\t\t\tonChange={ ( displayAsButtons ) =>\n\t\t\t\t\t\t\tsetAttributes( { displayAsButtons } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div { ...useBlockProps( { className: 'wp-block-query-filter' } ) }>\n\t\t\t\t{ showLabel && (\n\t\t\t\t\t<label className=\"wp-block-query-filter-taxonomy__label wp-block-query-filter__label\">\n\t\t\t\t\t\t{ label }\n\t\t\t\t\t</label>\n\t\t\t\t) }\n\t\t\t\t{displayAsButtons ? (\n\t\t\t\t\t<div className=\"wp-block-query-filter-taxonomy__links\">\n\t\t\t\t\t\t<button type=\"button\" inert=\"true\">\n\t\t\t\t\t\t\t{emptyLabel || __('All', 'query-filter')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{terms.map((term) => (\n\t\t\t\t\t\t\t<button type=\"button\" key={term.slug} inert=\"true\">\n\t\t\t\t\t\t\t\t{term.name}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<select\n\t\t\t\t\t\tclassName=\"wp-block-query-filter-taxonomy__select wp-block-query-filter__select\"\n\t\t\t\t\t\tinert=\"true\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<option>\n\t\t\t\t\t\t\t{ emptyLabel || __( 'All', 'query-filter' ) }\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t{ terms.map( ( term ) => (\n\t\t\t\t\t\t\t<option key={ term.slug }>{ term.name }</option>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</select>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport Edit from './edit';\nimport metadata from './block.json';\nimport './style-index.css';\n\nregisterBlockType( metadata.name, {\n\t/**\n\t * @see ./edit.js\n\t */\n\tedit: Edit,\n} );\n"],"names":["__","useBlockProps","InspectorControls","PanelBody","SelectControl","TextControl","ToggleControl","useSelect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Edit","attributes","setAttributes","taxonomy","emptyLabel","label","showLabel","displayAsButtons","taxonomies","select","results","getTaxonomies","per_page","filter","visibility","publicly_queryable","length","slug","name","terms","getEntityRecords","number","children","title","value","options","map","onChange","find","tax","help","checked","placeholder","className","type","inert","term","registerBlockType","metadata","edit"],"sourceRoot":""}
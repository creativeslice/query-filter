import{getContext as e,getElement as t,store as r}from"@wordpress/interactivity";var a={438:e=>{e.exports=import("@wordpress/interactivity-router")}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return a[e](r,r.exports,s),r.exports}const{state:o}=r("query-filter",{state:{searchValue:""},actions:{*navigate(e){e.preventDefault();const{actions:t}=yield Promise.resolve().then(s.bind(s,438));yield t.navigate(e.target.value)},*search(e){e.preventDefault();const{ref:r}=t();let a,n,i;if("FORM"===r.tagName){const e=r.querySelector('input[type="search"]');a=r.action,n=e.name,i=e.value}else a=r.closest("form").action,n=r.name,i=r.value;i!==o.searchValue&&(o.searchValue=i,yield(async(e,t,r)=>{const a=new URL(e);t||"s"===r?a.searchParams.set(r,t):a.searchParams.delete(r);const{actions:n}=await Promise.resolve().then(s.bind(s,438));await n.navigate(a.toString())})(a,i,n))},*toggleTerm(t){t.preventDefault();const r=t.target.dataset.termSlug,a=e("query-filter");if(!a.queryVar)return void console.error("Missing query parameter in context");const n=new URL(window.location.href),o=n.searchParams,i=o.get(a.queryVar)||"";let l=i?i.split(","):[];a.singleSelect?l=[r]:l.includes(r)?l=l.filter(e=>e!==r):l.push(r),l.length>0?o.set(a.queryVar,l.join(",")):o.delete(a.queryVar),o.delete(a.pageVar);const{actions:c}=yield Promise.resolve().then(s.bind(s,438));yield c.navigate(n.toString())},*clearSelections(t){t.preventDefault();const r=e("query-filter");if(!r.queryVar)return void console.error("Missing query parameter in context");const a=new URL(window.location.href);a.searchParams.delete(r.queryVar),a.searchParams.delete(r.pageVar);const{actions:n}=yield Promise.resolve().then(s.bind(s,438));yield n.navigate(a.toString())},*toggleDropdown(e){e.preventDefault();const{ref:r}=t();r&&r.classList.toggle("is-open")}}});
import*as e from"@wordpress/interactivity";var t={438:e=>{e.exports=import("@wordpress/interactivity-router")}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const n=(s={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},i={},a.d(i,s),i),{state:o}=(0,n.store)("query-filter",{state:{searchValue:""},actions:{*navigate(e){e.preventDefault();const{actions:t}=yield Promise.resolve().then(a.bind(a,438));yield t.navigate(e.target.value)},*search(e){e.preventDefault();const{ref:t}=(0,n.getElement)();let r,s,i;if("FORM"===t.tagName){const e=t.querySelector('input[type="search"]');r=t.action,s=e.name,i=e.value}else r=t.closest("form").action,s=t.name,i=t.value;i!==o.searchValue&&(o.searchValue=i,yield(async(e,t,r)=>{const n=new URL(e);t||"s"===r?n.searchParams.set(r,t):n.searchParams.delete(r);const{actions:o}=await Promise.resolve().then(a.bind(a,438));await o.navigate(n.toString())})(r,i,s))},*toggleTerm(e){e.preventDefault();const t=e.target.dataset.termSlug,r=(0,n.getContext)("query-filter");if(!r.queryVar)return void console.error("Missing query parameter in context");const o=new URL(window.location.href),s=o.searchParams,i=s.get(r.queryVar)||"";let l=i?i.split(","):[];r.singleSelect?l=[t]:l.includes(t)?l=l.filter(e=>e!==t):l.push(t),l.length>0?s.set(r.queryVar,l.join(",")):s.delete(r.queryVar),s.delete(r.pageVar);const{actions:c}=yield Promise.resolve().then(a.bind(a,438));yield c.navigate(o.toString())},*clearSelections(e){e.preventDefault();const t=(0,n.getContext)("query-filter");if(!t.queryVar)return void console.error("Missing query parameter in context");const r=new URL(window.location.href);r.searchParams.delete(t.queryVar),r.searchParams.delete(t.pageVar);const{actions:o}=yield Promise.resolve().then(a.bind(a,438));yield o.navigate(r.toString())}}});var s,i;
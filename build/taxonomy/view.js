import{getContext as e,getElement as t,store as r}from"@wordpress/interactivity";var s={438:e=>{e.exports=import("@wordpress/interactivity-router")}},a={};function n(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return s[e](r,r.exports,n),r.exports}const{state:i}=r("query-filter",{state:{searchValue:""},actions:{*navigate(e){e.preventDefault();const{actions:t}=yield Promise.resolve().then(n.bind(n,438));yield t.navigate(e.target.value)},*search(e){e.preventDefault();const{ref:r}=t();let s,a,o;if("FORM"===r.tagName){const e=r.querySelector('input[type="search"]');s=r.action,a=e.name,o=e.value}else s=r.closest("form").action,a=r.name,o=r.value;o!==i.searchValue&&(i.searchValue=o,yield(async(e,t,r)=>{const s=new URL(e);t||"s"===r?s.searchParams.set(r,t):s.searchParams.delete(r);const{actions:a}=await Promise.resolve().then(n.bind(n,438));await a.navigate(s.toString())})(s,o,a))},*toggleTerm(t){t.preventDefault();const r=t.target.dataset.termSlug,s=e("query-filter");if(!s.queryVar)return void console.error("Missing query parameter in context");const a=new URL(window.location.href),i=a.searchParams,o=i.get(s.queryVar)||"";let c=o?o.split(","):[];s.singleSelect?c=[r]:c.includes(r)?c=c.filter(e=>e!==r):c.push(r),c.length>0?i.set(s.queryVar,c.join(",")):i.delete(s.queryVar),i.delete(s.pageVar);const{actions:l}=yield Promise.resolve().then(n.bind(n,438));yield l.navigate(a.toString())},*clearSelections(t){t.preventDefault();const r=e("query-filter");if(!r.queryVar)return void console.error("Missing query parameter in context");const s=new URL(window.location.href);s.searchParams.delete(r.queryVar),s.searchParams.delete(r.pageVar);const{actions:a}=yield Promise.resolve().then(n.bind(n,438));yield a.navigate(s.toString())},*toggleDropdown(e){e.preventDefault();const{ref:r}=t();if(r){if(!r.classList.contains("is-dropdown-style"))return;const e=!r.classList.contains("is-open");if(r.classList.toggle("is-open"),e){const e=t=>{r.contains(t.target)||(r.classList.remove("is-open"),document.removeEventListener("click",e))};setTimeout(()=>{document.addEventListener("click",e)},200)}}}}});